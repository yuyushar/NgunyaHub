<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Order History & Details</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

  <style>
    :root {
        --bg-cream: #F3E9DC;
        --primary-orange: #D96F32;
        --deep-rust: #C75D2C;
        --pastel-orange: #F8B259;
        --text-dark: #333;
        --status-green: #2ecc71;
        --status-red: #e74c3c;
        --status-blue: #3498db;
    }

    body {
        background-color: var(--bg-cream);
        font-family: 'Poppins', sans-serif;
        padding-bottom: 100px;
    }

    .app-header {
        background-color: var(--primary-orange);
        color: white;
        padding: 15px 20px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        position: sticky;
        top: 0;
        z-index: 1000;
    }

    .back-link {
        color: white;
        text-decoration: none;
        font-size: 0.9rem;
        opacity: 0.9;
    }
    .back-link:hover { opacity: 1; text-decoration: underline; }

    .order-card {
        background: white;
        border: 1px solid rgba(0,0,0,0.08);
        border-radius: 15px;
        padding: 0;
        margin-bottom: 20px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        cursor: pointer;
        transition: transform 0.2s;
        overflow: hidden;
    }

    .order-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 12px rgba(0,0,0,0.1);
    }

    .card-header-custom {
        padding: 12px 15px;
        border-bottom: 1px solid var(--primary-orange);
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .order-id { font-weight: 500; color: var(--text-dark); }
    .resto-name { 
        font-weight: 600; 
        color: var(--text-dark); 
        text-decoration: underline; 
        text-decoration-color: var(--deep-rust);
    }

    .card-body-custom { padding: 15px; }
    
    .item-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 5px;
        font-size: 0.95rem;
        color: #555;
    }

    .more-items {
        color: var(--deep-rust);
        font-size: 0.85rem;
        font-style: italic;
        margin-top: 5px;
        display: block;
    }

    .status-text {
        text-align: right;
        font-size: 0.9rem;
        font-weight: 600;
        margin-top: 10px;
    }
    .status-confirm { color: var(--status-red); text-decoration: underline; }
    .status-otw { color: var(--status-blue); text-decoration: underline; }

    .detail-info-bar {
        background: white;
        padding: 10px 15px;
        border-bottom: 2px solid var(--primary-orange);
        font-weight: 600;
        font-size: 0.9rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 10px;
    }

    .detail-item {
        background: white;
        padding: 15px;
        border-bottom: 1px solid #eee;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .item-info h6 {
        margin: 0;
        font-weight: 600;
    }

    .qty-control {
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .btn-qty {
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: black;
        background: #fff;
    }
    .btn-qty.plus { 
        background-color: var(--primary-orange); 
        border: 2px solid var(--primary-orange);
        border-radius: 6px;
        color: white;
    }

    .btn-qty.minus { 
        background-color: white; 
        border: 2px solid var(--primary-orange);
        border-radius: 6px;
        color: var(--primary-orange)
    }

    .qty-display {
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        font-weight: 600;
        background: white;
    }

    .form-section {
        padding: 15px;
    }
    .custom-label {
        font-weight: 700;
        margin-bottom: 5px;
        color: var(--text-dark);
        font-size: 0.95rem;
    }
    .custom-input {
        border: 1px solid var(--deep-rust);
        border-radius: 4px;
        width: 100%;
        padding: 8px;
    }
    
    .payment-options {
        display: flex;
        gap: 10px;
        overflow-x: auto;
        padding-bottom: 5px;
    }
    .btn-payment {
        border: 1px solid var(--deep-rust);
        background: white;
        padding: 8px 15px;
        border-radius: 4px;
        font-weight: 600;
        font-size: 0.9rem;
        white-space: nowrap;
    }
    .btn-payment:hover{
        background-color: var(--pastel-orange);
    }

    .btn-payment.active {
        background-color: var(--bg-cream);
        border-color: var(--primary-orange);
    }

    .footer-action {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 70px;
        background: var(--primary-orange); 
        
        display: flex;
        align-items: center;
        z-index: 1050;
    }
    
    .btn-confirm {
        flex: 2;
        height: 100%;
        background-color: var(--deep-rust);
        border: none;
        color: white;
        font-size: 1.2rem;
        font-weight: 600;
        text-transform: uppercase;
    }

    .total-display {
        flex: 1.5;
        height: 100%;
        background-color: var(--primary-orange);
        color: #333; /* Dark text on orange */
        color: white; /* Or white text */
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        padding: 0 15px;
        border-left: 1px solid rgba(255,255,255,0.2);
    }

    .d-none { display: none !important; }
  </style>
</head>
<body>

  <section id="view-list">
      <header class="app-header text-center">
          <div class="position-absolute start-0 top-0 p-3">
             <a href="beranda.html" class="back-link">&lt; Kembali ke beranda</a>
          </div>
          <h4 class="m-0 fw-normal">Detail Order</h4> </header>

      <div class="container mt-4">
          
          <div class="order-card" onclick="showDetail(1)">
              <div class="card-header-custom">
                  <span class="order-id">Order — 0001-02122025</span>
                  <span class="resto-name">Seafood Mak Nyoss</span>
              </div>
              <div class="card-body-custom">
                  <div class="item-row">
                      <span>Kulit Kerang Ajaib</span>
                      <span>2 items</span>
                  </div>
                  <div class="item-row">
                      <span>Jus Kelp Segar</span>
                      <span>2 items</span>
                  </div>
                  <span class="more-items">2 item lainnya...</span>
                  <div class="status-text status-confirm">Belum Konfirmasi</div>
              </div>
          </div>

          <div class="order-card" onclick="showDetail(2)">
              <div class="card-header-custom">
                  <span class="order-id">Order — 0002-02122025</span>
                  <span class="resto-name">Bakso Cak Man</span>
              </div>
              <div class="card-body-custom">
                  <div class="item-row">
                      <span>Bakso banyak anak</span>
                      <span>2 items</span>
                  </div>
                  <div class="item-row">
                      <span>Es Teh anget</span>
                      <span>2 items</span>
                  </div>
                  <div class="status-text status-otw" style="color: var(--status-blue)">Dalam Perjalanan</div>
              </div>
          </div>

      </div>
  </section>

  <section id="view-detail" class="d-none">
      <header class="app-header text-center">
          <div class="position-absolute start-0 top-0 p-3">
             <a href="#" onclick="showList(event)" class="back-link">&lt; Kembali ke list order</a>
          </div>
          <h4 class="m-0 fw-normal">Detail Order</h4>
      </header>

      <div class="detail-info-bar">
          <span id="detail-order-id">Order — 0002-02122025</span>
          <span class="status-otw">Dalam Perjalanan</span>
          <span class="fw-bold text-decoration-underline" id="detail-resto-name">Bakso Cak Man</span>
      </div>

      <div id="detail-items-container">
          <div class="detail-item">
              <div class="item-info">
                  <h6>Bakso banyak anak</h6>
                  <div class="text-muted small">Rp. 10.000</div>
              </div>
              <div class="qty-control">
                  <button class="btn-qty minus" onclick="updateQty('item1', -1, 20000)">-</button>
                  <div class="qty-display" id="qty-item1">2</div>
                  <button class="btn-qty plus" onclick="updateQty('item1', 1, 20000)">+</button>
              </div>
          </div>

          <div class="detail-item">
              <div class="item-info">
                  <h6>Es Teh anget</h6>
                  <div class="text-muted small">Rp. 3.000</div>
              </div>
              <div class="qty-control">
                  <button class="btn-qty minus" onclick="updateQty('item2', -1, 6000)">-</button>
                  <div class="qty-display" id="qty-item2">2</div>
                  <button class="btn-qty plus" onclick="updateQty('item2', 1, 6000)">+</button>
              </div>
          </div>
      </div>

      <div class="form-section">
          <div class="mb-3">
              <label class="custom-label">Deskripsi tambahan:</label>
              <textarea class="custom-input" rows="3"></textarea>
          </div>

          <div class="mb-4">
              <label class="custom-label">Lokasi Pengiriman:</label>
              <input type="text" class="custom-input" value="Jln. Grove Street, No.2">
          </div>

          <div class="mb-3">
              <label class="custom-label">Metode Pembayaran:</label>
              <div class="payment-options mt-2">
                  <button class="btn-payment">CASH</button>
                  <button class="btn-payment">QRIS</button>
                  <button class="btn-payment">TRANSFER</button>
              </div>
          </div>
      </div>
      
      <div class="footer-action">
          <button class="btn-confirm">KONFIRMASI</button>
          <div class="total-display">
              Total: Rp <span id="grand-total" class="ms-1">26.000</span>
          </div>
      </div>
  </section>

  <script>
      let items = {
          'item1': { qty: 2, price: 10000 },
          'item2': { qty: 2, price: 3000 }
      };

      function showDetail(id) {
          document.getElementById('view-list').classList.add('d-none');
          document.getElementById('view-detail').classList.remove('d-none');
          window.scrollTo(0,0);
      }

      function showList(e) {
          if(e) e.preventDefault();
          document.getElementById('view-detail').classList.add('d-none');
          document.getElementById('view-list').classList.remove('d-none');
      }

      function formatRupiah(num) {
          return new Intl.NumberFormat('id-ID').format(num);
      }

      function updateQty(itemId, change, price) {
          const currentQty = items[itemId].qty;
          const newQty = currentQty + change;

          if (newQty >= 0) {
              items[itemId].qty = newQty;
              document.getElementById('qty-' + itemId).innerText = newQty;
              calculateTotal();
          }
      }

      function calculateTotal() {
          let total = 0;
          for (let key in items) {
              total += items[key].qty * items[key].price;
          }
          document.getElementById('grand-total').innerText = formatRupiah(total);
      }

      calculateTotal();
  </script>
</body>
</html>